#include "DemoScene.h"
#include "Globals.h"

#define AnimationLength 80
//Direction _animation[AnimationLength] = { 
//  {0, 1, 0},
//  {0, 1, 0},
//  {0, 1, 0},
//  {0, 1, 0},
//  {0, 1, 0},
//  {0, 0, -1},
//  {0, 0, -1},
//  {0, 0, -1},
//  {0, 0, -1},
//  {0, 0, -1},
//  {0, -1, 0},
//  {0, -1, 0},
//  {0, -1, 0},
//  {0, -1, 0},
//  {0, 0, 1},
//  {0, 0, 1},
//  {0, 0, 1},
//  {0, 0, 1},
//  {0, 1, 0},
//  {0, 1, 0},
//  {0, 1, 0},
//  {0, 0, -1},
//  {0, 0, -1},
//  {0, 0, -1},
//  {0, -1, 0},
//  {0, -1, 0},
//  {0, -1, 0},
//  {0, 0, 1},
//  {1, 0, 0},
//  {0, 0, 1},
//  {0, 0, 1},
//
//  {1, 0, 0},
//
//  {0, 1, 0},
//  {0, 1, 0},
//  {0, 1, 0},
//  {0, 0, -1},
//  {0, 0, -1},
//  {0, 0, -1},
//  {0, -1, 0},
//  {0, -1, 0},
//
//  {1, 0, 0},  {1, 0, 0},  {1, 0, 0},
//
//  {0, 0, 1},
//  {0, 0, 1},
//  {0, 1, 0},
//  {0, 0, -1}, 
//  {0, 0, -1},
//  {0, -1, 0},
//  
//  {0, -1, 0},
//  {0, -1, 0},
//  {0, 0, 1},
//  {0, 0, 1},
//  {0, 0, 1},
//  {0, 0, 1},
//  {0, 1, 0},
//  {0, 1, 0},
//
//  {-1, 0, 0},{-1, 0, 0},{-1, 0, 0},
//  
//  {0, 1, 0},  
//  {0, 1, 0},  
//  {0, 1, 0},
//  {0, 0, -1},
//  {0, 0, -1},
//  
//  {-1, 0, 0},
//
//  {0, 0, -1},
//  {0, 0, -1},
//  {0, 0, -1},
//  {0, -1, 0},
//  {0, -1, 0},
//  {0, -1, 0},
//  {0, -1, 0},
//  {0, -1, 0},
//  {0, 0, 1},
//  {0, 0, 1},
//  {0, 0, 1},
//  {0, 0, 1},
//  {0, 0, 1},
//  
//  {-1, 0, 0},
//};
//
DemoScene::DemoScene() {
  _field = new GameField(cube.layers(), cube.rows(), cube.columns());
  _field->start({ 0,0,0 });
  for (byte i = 0; i < 5; i++)
    _field->grow(DirectionRight);
  _animation = new Direction[AnimationLength]{ 
  {0, 1, 0},
  {0, 1, 0},
  {0, 1, 0},
  {0, 1, 0},
  {0, 1, 0},
  {0, 0, -1},
  {0, 0, -1},
  {0, 0, -1},
  {0, 0, -1},
  {0, 0, -1},
  {0, -1, 0},
  {0, -1, 0},
  {0, -1, 0},
  {0, -1, 0},
  {0, 0, 1},
  {0, 0, 1},
  {0, 0, 1},
  {0, 0, 1},
  {0, 1, 0},
  {0, 1, 0},
  {0, 1, 0},
  {0, 0, -1},
  {0, 0, -1},
  {0, 0, -1},
  {0, -1, 0},
  {0, -1, 0},
  {0, -1, 0},
  {0, 0, 1},
  {1, 0, 0},
  {0, 0, 1},
  {0, 0, 1},

  {1, 0, 0},

  {0, 1, 0},
  {0, 1, 0},
  {0, 1, 0},
  {0, 0, -1},
  {0, 0, -1},
  {0, 0, -1},
  {0, -1, 0},
  {0, -1, 0},

  {1, 0, 0},  {1, 0, 0},  {1, 0, 0},

  {0, 0, 1},
  {0, 0, 1},
  {0, 1, 0},
  {0, 0, -1}, 
  {0, 0, -1},
  {0, -1, 0},
  
  {0, -1, 0},
  {0, -1, 0},
  {0, 0, 1},
  {0, 0, 1},
  {0, 0, 1},
  {0, 0, 1},
  {0, 1, 0},
  {0, 1, 0},

  {-1, 0, 0},{-1, 0, 0},{-1, 0, 0},
  
  {0, 1, 0},  
  {0, 1, 0},  
  {0, 1, 0},
  {0, 0, -1},
  {0, 0, -1},
  
  {-1, 0, 0},

  {0, 0, -1},
  {0, 0, -1},
  {0, 0, -1},
  {0, -1, 0},
  {0, -1, 0},
  {0, -1, 0},
  {0, -1, 0},
  {0, -1, 0},
  {0, 0, 1},
  {0, 0, 1},
  {0, 0, 1},
  {0, 0, 1},
  {0, 0, 1},
  
  {-1, 0, 0},
};
}

Scene* DemoScene::loop() {
  for (int i = 0; i < AnimationLength; i++) {  
    _field->move(_animation[i]);
    _field->render(&cube);
    delay(50);
  }
  return &sleepScene;
//  sleep.sleepNow(); 
}


